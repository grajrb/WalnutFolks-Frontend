# Voice Agent Analytics Dashboard

A modern, full-stack analytics dashboard for voice agents built with React + TypeScript, featuring real-time call analytics, customizable charts, and cloud-based data persistence.

## Features

‚ú® **Real-time Analytics Charts**
- Call success rate monitoring
- Pipeline latency analysis (STT ‚Üí LLM ‚Üí TTS)
- Call volume and duration tracking
- Sentiment analysis distribution
- Agent performance metrics

üìä **Customizable Data**
- Allow users to modify analytics data
- Email-based user identification
- Persistent storage with Supabase
- Previous values tracking and recovery

üé® **Modern UI**
- Inspired by SuperBryn.com design
- Dark theme with gradients
- Responsive design (mobile, tablet, desktop)
- Glassmorphism effects with Tailwind CSS

üîê **Cloud Integration**
- Supabase backend for data persistence
- Email-based data association
- Real-time database synchronization

## Tech Stack

- **Frontend**: React 19 + TypeScript
- **Build Tool**: Vite
- **Styling**: Tailwind CSS
- **Charts**: Recharts
- **Backend**: Supabase
- **Forms**: React Hook Form
- **HTTP**: Axios

## Getting Started

### Prerequisites
- Node.js 16+ and npm/yarn
- Supabase account (free tier available)

### Installation

1. **Clone the repository**
```bash
git clone https://github.com/grajrb/WalnutFolks-Frontend.git
cd WalnutFolks-Frontend
```

2. **Install dependencies**
```bash
npm install
```

3. **Set up Supabase**
   - Create a new project at [supabase.com](https://supabase.com)
   - Create a new table called `chart_data` with the following schema:
     ```sql
     CREATE TABLE chart_data (
       id BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
       email VARCHAR(255) NOT NULL,
       chart_type VARCHAR(100) NOT NULL,
       data JSONB NOT NULL,
       created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
       updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
     );
     CREATE UNIQUE INDEX idx_email_chart_type ON chart_data(email, chart_type);
     ```
   - Copy your Supabase URL and Anon Key

4. **Configure environment variables**
```bash
cp .env.example .env.local
```

Edit `.env.local`:
```
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
```

5. **Start development server**
```bash
npm run dev
```

The app will be available at `http://localhost:5173/`

## Usage

### Viewing Analytics
- Navigate to the dashboard to see real-time voice agent analytics
- All charts display dummy data for demonstration

### Customizing Data
1. Click "Customize Data" button in the header
2. Enter your email address
3. If you have previous data, you'll see an option to restore it
4. Modify the call success rate values as needed
5. Click "Save Data" to persist changes

### Next Visit
- Return to the dashboard anytime
- Click "Customize Data" again
- Your previous email will show in the button
- Your saved data will be automatically loaded
- You can view your previous values before overwriting

## Project Structure

```
src/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ Charts.tsx          # All chart components and dummy data
‚îÇ   ‚îî‚îÄ‚îÄ EmailModal.tsx      # Email collection and data input form
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îî‚îÄ‚îÄ supabase.ts         # Supabase client configuration
‚îú‚îÄ‚îÄ App.tsx                 # Main dashboard component
‚îú‚îÄ‚îÄ main.tsx                # Entry point
‚îî‚îÄ‚îÄ index.css               # Tailwind CSS imports
```

## Available Scripts

- `npm run dev` - Start development server
- `npm run build` - Build for production
- `npm run preview` - Preview production build
- `npm run lint` - Run ESLint

## Features Deep Dive

### Charts Included

1. **Call Success Rate** - Line chart showing success/failure rates over time (customizable)
2. **Pipeline Latency** - Bar chart showing STT, LLM, and TTS latencies
3. **Call Volume & Duration** - Dual-axis bar chart for volume and average duration
4. **Sentiment Analysis** - Pie chart showing positive/neutral/negative sentiment
5. **Agent Performance** - Bar chart showing individual agent accuracy

### Data Persistence Flow

```
User Input ‚Üí Email Validation ‚Üí Supabase Query
    ‚Üì
Check Previous Data ‚Üí Show Previous Values (optional)
    ‚Üì
User Modifies Data ‚Üí Save to Supabase
    ‚Üì
Update Dashboard Charts ‚Üí Display Confirmation
```

## Deployment

### Deploy to Vercel (Recommended)

1. Push code to GitHub
2. Connect GitHub repo to Vercel
3. Add environment variables in Vercel dashboard
4. Deploy automatically

```bash
npm run build
vercel --prod
```

### Deploy to Other Platforms

**Netlify:**
```bash
npm install -g netlify-cli
npm run build
netlify deploy --prod --dir=dist
```

**Docker:**
```dockerfile
FROM node:20-alpine
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build
EXPOSE 5173
CMD ["npm", "run", "preview"]
```

## Environment Variables

Required environment variables:
- `VITE_SUPABASE_URL` - Your Supabase project URL
- `VITE_SUPABASE_ANON_KEY` - Your Supabase anonymous key

## API Integration

The app uses Supabase client library for all backend operations:

```typescript
// Save new data
await supabase.from('chart_data').insert([
  { email, chart_type, data }
])

// Update existing data
await supabase.from('chart_data').update(
  { data, updated_at }
).eq('email', email)

// Fetch user data
const { data } = await supabase
  .from('chart_data')
  .select('*')
  .eq('email', email)
```

## Customization

### Modifying Chart Data
Edit `src/components/Charts.tsx` to change dummy data:

```typescript
export const callSuccessData = [
  { time: '12:00 AM', successRate: 95, failureRate: 5 },
  // ... more entries
];
```

### Styling
- Colors and themes in `tailwind.config.js`
- Component styles use Tailwind CSS utility classes
- Gradient backgrounds defined in theme config

### Adding New Charts
1. Create chart data in `Charts.tsx`
2. Create chart component using Recharts
3. Add to dashboard grid in `App.tsx`

## Browser Support

- Chrome/Edge (latest)
- Firefox (latest)
- Safari (latest)
- Mobile browsers (iOS Safari, Chrome Mobile)

## Performance Optimizations

- Code splitting with Vite
- Lazy loading charts
- Optimized chart re-renders
- Minimal dependencies
- CSS optimization with Tailwind

## Troubleshooting

### Supabase Connection Issues
- Verify URL and API key in `.env.local`
- Check Supabase dashboard for table creation
- Ensure RLS policies allow public access (for demo)

### Charts Not Displaying
- Check browser console for errors
- Verify recharts installation: `npm list recharts`
- Ensure data format matches expected structure

### Email Validation Issues
- Check email format validation in `EmailModal.tsx`
- Verify Supabase table accepts email string type

## Future Enhancements

- Real-time data streaming from voice providers
- Custom chart creation interface
- Data export to CSV/PDF
- Advanced filtering and date ranges
- Multi-chart customization
- User authentication with Auth0/Firebase
- Dark mode toggle
- Webhook integrations

## Contributing

Contributions welcome! Please follow the existing code style and:
1. Create feature branches
2. Write descriptive commit messages
3. Submit pull requests with explanations

## License

MIT

## Support

For issues, questions, or suggestions:
- Open an issue on GitHub
- Email: support@voiceanalytics.dev

## Resources

- [React Documentation](https://react.dev)
- [Tailwind CSS](https://tailwindcss.com)
- [Recharts](https://recharts.org)
- [Supabase Documentation](https://supabase.com/docs)
- [Vite Guide](https://vitejs.dev)

---

Built with ‚ù§Ô∏è for voice AI teams


## React Compiler

The React Compiler is not enabled on this template because of its impact on dev & build performances. To add it, see [this documentation](https://react.dev/learn/react-compiler/installation).

